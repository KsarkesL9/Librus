/* assets/css/app.css — jasny motyw dla stron aplikacyjnych (body.app) */
:root{
  --app-bg:#f3f4f6;          /* jasnoszare tło jak w Librusie */
  --app-border:#e5e7eb;
  --app-muted:#6b7280;
  --app-green:#86c440;
  --app-green-dark:#6aa62e;
  --app-green-soft:#e9f5d8;
  --app-blue:#2563eb;
  --brand-purple:#7b3b68;
}

/* WYŁĄCZENIE fioletowego tła z globalnego styles.css */
body.app::before, body.app::after{ content:none !important; }

/* Subtelny jasny wzór: diagonal + delikatne narożniki */
body.app{
  color:#0f172a;
  background:
    /* lekkie podkreślenie narożników */
    radial-gradient(60% 40% at 100% 0%, rgba(107,114,128,.14) 0%, transparent 60%),
    radial-gradient(60% 40% at 0% 100%, rgba(107,114,128,.12) 0%, transparent 60%),
    /* bardzo delikatne skośne linie */
    repeating-linear-gradient(135deg, rgba(0,0,0,.025) 0 2px, transparent 2px 10px),
    var(--app-bg);
}

/* ——— TOPBAR (jasny) ——— */
.topbar{
  position: sticky; top:0; z-index:20;
  background:#fff; border-bottom:1px solid var(--app-border);
  box-shadow: 0 6px 18px rgba(0,0,0,.04);
}
.topbar-inner{
  max-width:1320px; margin:0 auto; padding:.65rem 1.25rem;
  display:flex; align-items:center; justify-content:space-between;
}

/* logo + napis „Librus” większy */
.brand{
  display:flex; align-items:center; gap:.65rem;
  text-decoration:none; color:#0f172a; font-weight:900;
  letter-spacing:.01em; font-size:1.25rem;
}
.brand-mark{
  width:34px; height:34px; border-radius:999px; display:grid; place-items:center;
  background:var(--brand-purple); color:#fff; font-weight:900; font-size:20px;
  box-shadow: 0 3px 10px rgba(0,0,0,.12) inset, 0 6px 12px rgba(0,0,0,.08);
}
.brand-sub{ color:#9ca3af; font-weight:700; font-size:.95rem; margin-left:.15rem; }

.nav-icons{ display:flex; gap:14px; }
.nav-icon{ position:relative; text-decoration:none; display:flex; flex-direction:column; align-items:center; gap:.35rem; }
.nav-icon .circle{
  width:46px; height:46px; border-radius:999px; display:grid; place-items:center;
  background:#fff; border:1px solid var(--app-border); color:#6b7280;
  box-shadow: 0 6px 14px rgba(0,0,0,.08);
}
.nav-icon .circle svg{ width:22px; height:22px; }
.nav-icon .label{ color:#374151; font-size:.9rem; }
.nav-icon .badge{
  position:absolute; right:-2px; top:-4px;
  min-width:20px; height:20px; border-radius:999px;
  display:grid; place-items:center;
  font-weight:800; font-size:.8rem; color:#fff; background:#1d4ed8;
  box-shadow: 0 2px 8px rgba(0,0,0,.25);
}

/* ——— UKŁAD STRONY ——— */
.container{ max-width:1320px; margin-inline:auto; padding:2rem 1.25rem; }
.grades-card{
  width:min(1280px, 88vw);           /* ~80–90% okna */
  margin: 1rem auto;
  background:#fff; border:1px solid var(--app-border);
  border-radius:16px; box-shadow: 0 14px 34px rgba(0,0,0,.06);
  padding:1.25rem 1.25rem 1.5rem;
}
h1{ color:#0f172a; margin: .2rem 0 1rem 0; font-size:1.6rem; }

/* pasek z danymi ucznia */
.student-bar{ display:flex; gap:1.25rem; align-items:center; margin-bottom:.75rem; color:#374151; }
.student-bar .avatar{ width:42px;height:42px;border-radius:999px;background:#e5e7eb;display:inline-block; }

/* ——— TABELA OCEN ——— */
.grades-table-wrap{ overflow-x:auto; }
.grades-table{ width:100%; border-collapse:separate; border-spacing:0; }

/* zielony top nagłówka */
.grades-table thead tr:first-child th{
  background: linear-gradient(0deg, var(--app-green) 0%, var(--app-green-dark) 100%);
  color:#fff; font-weight:800; padding:.6rem .8rem; border:1px solid var(--app-green-dark);
}
.grades-table thead tr:nth-child(2) th{
  background: var(--app-green-soft); color:#1f2937; padding:.45rem .6rem;
  border-left:1px solid var(--app-border); border-right:1px solid var(--app-border); border-bottom:1px solid var(--app-border);
}
.grades-table thead tr:first-child th:first-child{ border-top-left-radius:10px; }
.grades-table thead tr:first-child th:last-child{ border-top-right-radius:10px; }

/* wiersze */
.grades-table tbody tr:nth-child(odd) td,
.grades-table tbody tr:nth-child(odd) th{ background:#fff; }
.grades-table tbody tr:nth-child(even) td,
.grades-table tbody tr:nth-child(even) th{ background:#fafafa; }

.grades-table tbody th,
.grades-table tbody td{
  padding:.5rem .6rem; border:1px solid var(--app-border); vertical-align:top;
}
.grades-table .sticky{ position:sticky; left:0; z-index:2; background:inherit; }
.grades-table .subj-name{ font-weight:700; white-space:nowrap; }

/* pigułki ocen */
.grade-pill{
  --pill-bg:#e5e7eb;
  display:inline-block; min-width:26px; text-align:center;
  margin:.15rem .2rem; padding:.15rem .4rem;
  border-radius:6px; background:var(--pill-bg);
  border:1px solid rgba(0,0,0,.06); font-weight:800;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.5);
}

/* podsumowania I / R */
.grades-table .summary{ text-align:center; font-weight:900; }
.grades-table .summary .sum-pill{
  display:inline-block; padding:.15rem .45rem; border-radius:6px;
  background:#dbeafe; color:#0f172a; border:1px solid #bfdbfe;
}

/* tooltip dla ocen (jasny) */
.grade-tooltip{
  position: fixed;               /* Pozycjonowanie względem okna przeglądarki */
  z-index: 9999;
  background: var(--app-bg);     /* Jasno szare tło */
  color: #374151;                /* Ciemny tekst */
  border: 1px solid var(--app-border);
  border-radius: 10px;
  padding: .65rem .8rem;
  box-shadow: 0 14px 42px rgba(0,0,0,.06);
  max-width: 320px;
  height: auto;
  pointer-events: none;
  visibility: hidden;
  opacity: 0;
  transition: opacity .2s ease;
}

/* Klasy do kontrolowania widoczności przez JS */
.grade-tooltip.visible {
  visibility: visible;
  opacity: 1;
}

/* Ukrywa tooltip, gdy nie jest potrzebny */
.grade-tooltip.hidden {
  display: none !important;
}

/* Style wewnętrzne */
.grade-tooltip .row{ 
  display: flex; 
  justify-content: space-between; 
  gap: .8rem; 
  padding: .15rem 0; 
  border-bottom: 1px dashed var(--app-border); 
}
.grade-tooltip .row:last-child{ border-bottom: 0; }
.grade-tooltip .row strong{ font-weight: bold; }

/* drobne poprawki formularzy w app */
.form .input-wrap{ background:#fff; }
.muted{ color: var(--app-muted); }